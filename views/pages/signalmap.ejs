<html lang="en">

<!--main-->
  <%- contentFor('signalmap') %>

   <main id="sitemain">    
        <div class="hero">
           Locations of Intelligent Traffic Signals
        </div>
   </main>  
  
    <div id="map"></div>
   
   <script>
      
      function initMap() {
        var bengaluru = {lat: 12.9427, lng: 77.5858};
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 12,
          center: bengaluru
        });
        var marker = [];
        var i=0;
        <% for(i = 0; i < slen; i++ ){   %>
            (function(){
                <% console.log(slist[i].place) %>
                marker[i] = new google.maps.Marker({
                   position: {lat: <%=slist[i].location.lat %>, lng: <%=slist[i].location.long %>},
                   map: map
                });
                i++;
             }());
       <% }  %>

      }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyC8VpZvaDz8AyqC_JV73XlAMEV48HTHAmA&callback=initMap">
    </script>